---
layout: exercices
title: Exercices préparatoires pour l'arbre de décision
introduction: arbre/ex/intro.html

moreInfo:
    - Dans un véritable arbre de décision, les questions ne sont pas forcément binaires. C'est à dire que chaque question peut avoir autant de branches que l'on veut. Par exemple si on demande l'âge, on pourrait avoir une branche "âge <= 18 ans" une autre "18 < âge < 60" et une dernière "âge >= 60 ans".
    - >
        Les arbres peuvent être générés très efficacement par des algorithmes de Machine Learning comme <a target="_blank" href="https://fr.wikipedia.org/wiki/Algorithme_ID3">ID3</a>, cependant son utilisation est complexe et repose sur des concepts mathématiques et informatiques trop avancés (l'entropie de Shannon, logarithme, récursivité...).<br>
        Les arbres de décisions ici sont suffisamment petits pour pouvoir les créer à la main très efficacement sans difficulté, mais en pratique, avec beaucoup de données, des algorithmes sont employés.

conclusion:
    - Le procédé d'un arbre de décision repose sur un principe assez simple.
    - "Un arbre est composé de 2 types d'éléments : les feuilles et les noeuds internes. Ils sont liés par des branches."
    - Un noeud interne est une question à laquelle on peut répondre par oui ou non. La branche de gauche représentera toujours la réponse « oui » et celle de droite la réponse « non ».
    - Les feuilles représentent l'ensemble des données ayant répondu à tous les critères des branches ayant mené à la feuille.
    - La classe ayant le plus grand pourcentage dans la feuille est appelée classe majoritaire. Si on cherche à prédire une donnée et qu'elle se retrouve dans cette feuille, c'est cette classe qui sera déduite.

exercices:
-   title: Construire un arbre de décision
    difficulty: 1
    introduction: >
        <p>
            En utilisant le <a href="#tableExample">tableau précédent</a> quel sont les pourcentages de chaque fruit pour les arbres suivants ?
        </p>
    question: >
        <img src="/static/img/arbre/ex1help1.png" class="img-fluid mx-auto d-block">
    decisionTreeAnswer: true
    leafNumber : 3
    categories: [Banane, Pomme, Orange, Citron]
    correctValues: [[0,0,100,0],[100,0,0,0],[0,50,0,50]]
    help : >
        Prenons la feuille 1 par exemple.<br>
        Elle représente tous les fruits qui sont oranges. Dans notre cas, il n'y a que l'orange qui est orange. Elle représente donc 100%, les autres fruits eux sont à 0%.<br>
        La feuille 2 correspond à tous les fruits qui ne sont pas oranges, mais courbés ou autres caractéristiques...
    correction: >
        <img src="/static/img/arbre/ex1corr1.PNG" class="img-fluid mx-auto d-block">
-   question: >
        <img src="/static/img/arbre/ex1help2.png" class="img-fluid mx-auto d-block">
    difficulty: 1
    decisionTreeAnswer: true
    leafNumber : 4
    categories: [Banane, Pomme, Orange, Citron]
    correctValues: [[100,0,0,0],[0,0,0,100],[0,0,100,0],[0,100,0,0]]
    correction: >
        <img src="/static/img/arbre/ex1corr2.PNG" class="img-fluid mx-auto d-block">
-   question: >
        <img src="/static/img/arbre/ex1help3.png" class="img-fluid mx-auto d-block">
    difficulty: 1
    decisionTreeAnswer: true
    leafNumber : 1
    categories: [Banane, Pomme, Orange, Citron]
    correctValues: [[25,25,25,25]]
    help: >
        Oui, aucun fruit ne correspond à toutes ces questions, c'est le but.<br>
        Mais du coup si j'ai un fruit qui n'est ni rose, ni cubique, ni bleu, quel fruit ça peut être dans notre tableau ? <small class="text-muted"> (tous)</small>
    correction: >
        <img src="/static/img/arbre/ex1corr3.PNG" class="img-fluid mx-auto d-block">
-   question: >
        <p>
            D'après les différents arbres de cet exercice, quel arbre serait le plus adapté pour différencier une pomme d’un citron ? Justifie ton choix :
        </p>
    difficulty: 2
    answer: >
        <div class="form-group">
            <select class="form-control" data-answer="Arbre 2">
                <option>Arbre 1</option>
                <option>Arbre 2</option>
                <option>Arbre 3</option>
            </select>
            <label for="repEx1-1"></label>
            <textarea class="form-control" rows="4" id="repEx1-1" data-answer="2,distinguer,différencie"></textarea>
        </div>
    correction: >
        Le 2eme arbre est plus adapté que les autres pour différencier une pomme d’un citron.<br>
        Les questions/décisions du premier ne permettent pas de distinguer les 2 fruits (ils sont, tous les 2, ni oranges ni courbés).<br>
        Le dernier arbre est encore pire, on ne peut y distinguer aucun fruit !
-   title: Classifier quand il y a des classes identiques
    difficulty: 2
    introduction: >
        <p>
            Précédemment, nous avons considéré que chaque fruit était distinct, cependant cela peut ne pas être le cas.<br>
            Je peux par exemple avoir des pommes qui sont de couleurs jaunes en plus.<br>
            Tu remarqueras qu'avec ses nouvelles pommes, il nous est impossible de les distinguer des citrons maintenant !
        </p>

        <table class="table table-light table-striped table-bordered table-hover pinnable" id="tableExample2">
            <thead>
            <tr>
                <th scope="col">Classe</th>
                <th scope="col">Forme</th>
                <th scope="col">Couleur</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td scope="row">Banane</td>
                <td>Courbée</td>
                <td>Jaune</td>
            </tr>
            <tr >
                <td scope="row">Pomme</td>
                <td>Ronde</td>
                <td>Rouge</td>
            </tr>
            <tr >
                <td scope="row">Orange</td>
                <td>Ronde</td>
                <td>Orange</td>
            </tr>
            <tr>
                <td scope="row">Citron</td>
                <td>Ronde</td>
                <td>Jaune</td>
            </tr>
            <tr class="table-primary">
                <td scope="row">Pomme</td>
                <td>Ronde</td>
                <td>Jaune</td>
            </tr>
            <tr class="table-primary">
                <td scope="row">Pomme</td>
                <td>Ronde</td>
                <td>Jaune</td>
            </tr>
            <tr class="table-primary">
                <td scope="row">Pomme</td>
                <td>Ronde</td>
                <td>Jaune</td>
            </tr>
            </tbody>
            <caption>Tableau 2 : Comme le <a href="#tableExample">tableau précédent</a>, mais avec 3 pommes jaunes en plus</caption>
        </table>
    question: A partir des données du <a href="#tableExample2">tableau précédent</a>, quel sont les probabilités que mon fruit soit un citron/pomme sachant qu'il est jaune et rond ?
    answer: >
        <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">Citron</span>
            </div>
            <input type="number" min="0" max="100" value="0" class="form-control" data-answer="25">
            <div class="input-group-append">
                <span class="input-group-text">%</span>
            </div>
        </div>
        <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">Pomme</span>
            </div>
            <input type="number" min="0" max="100" value="0" class="form-control" data-answer="75">
            <div class="input-group-append">
                <span class="input-group-text">%</span>
            </div>
        </div>
    correction: >
        4 fruits sont jaunes et ronds. 3 sont des pommes et 1 est un citron. Cela nous fait donc 1/4 de chance soit 25% pour le citron et 3/4 soit 75% pour la pomme.
-   question: >
        <img src="/static/img/arbre/ex2help.PNG" class="img-fluid mx-auto d-block" style="padding-bottom: 5px;">
    difficulty: 2
    decisionTreeAnswer: true
    leafNumber : 3
    categories: [Banane, Pomme, Orange, Citron]
    correctValues: [[0,75,0,25],[0,50,50,0],[100,0,0,0]]
    help : >
        La subtilité ici est que la feuille 1 n'est plus la même qu'avec le tableau du début des exercices.
        En effet, il ne faut pas oublier nos nouvelles pommes dedans !<br>
        Pour les pourcentages, je te laisse deviner ;) mais c'est très lié à l'exercice précédent.
    correction: >
        <img src="/static/img/arbre/ex2corr.PNG" class="img-fluid">
-   title: Classe majoritaire
    difficulty: 1
    introduction: >
        <p>
            Afin de déterminer la classe d'un fruit inconnu, on choisit la classe majoritaire dans la feuille de l'arbre de décision.
        </p>
        <p>
            Pour cet exercice sers toi de l'arbre de décision suivant :
        </p>
        <img id="fruitDecisionTree" src="/static/img/arbre/ex3Tree.png" class="img-fluid mx-auto d-block pinnable">
    question: >
        Quel est la classe majoritaire des fruits suivants ?
    answer:
        -   kind : selection
            text : Fruit rond et jaune
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Citron
        -   kind : selection
            text : Fruit rond et rouge
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Pomme
        -   kind : selection
            text : Fruit ovale
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Melon
    help: >
        Faisons le deuxième ensemble, le fruit est "rond et rouge".<br>
        On commence en haut de l'arbre, la première question est s'il est rond.<br>
        C'est le cas, on va donc dans la partie gauche.<br>
        La prochaine question est de savoir s'il est jaune.<br>
        Ce n'est pas le cas, on va donc dans la partie de droite.<br>
        La prochaine question est de savoir s'il est rouge.<br>
        C'est le cas, on va donc dans la partie de gauche.<br>
        On est dans une feuille, il ne nous reste plus qu'à prendre le fruit avec le plus grand pourcentage.<br>
        La réponse ici est donc la pomme !
    correction: >
        Citron, Pomme et Melon.<br>
        Il suffit de traverser l'arbre en commençant par en haut.<br>
-   title: La classification
    difficulty: 1
    introduction: >
        <p>
            Quand tu as besoin de classifier un élément avec un arbre de décision, tu choisis la classe majoritaire de la feuille correspondant à l'élément.
        </p>
        <p>
            Utilise l'arbre de décision de <a href="#fruitDecisionTree">l'exercice précédent</a>
        </p>
    question: >
        Quel est le résultat de la classification des éléments suivants en utilisant l'arbre de décision de <a href="#fruitDecisionTree">l'exercice précédent</a> ?
    answer:
        -   kind : selection
            text : Fruit rond et jaune
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Citron
        -   kind : selection
            text : Fruit rond et rouge
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Pomme
        -   kind : selection
            text : Fruit ovale
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Melon
        -   kind : selection
            text : Fruit rond et vert
            options :
                - Citron
                - Pomme
                - Cerise
                - Orange
                - Poire
                - Banane
                - Melon
                - Noix de coco
            correct : Orange
    correction: >
        Citron, Pomme, Melon et Orange.<br>
        Les résultats sont exactement les mêmes que l'exercice précédent ! Mis à part pour le dernier.<br>
        D'ailleurs une orange n'est pas verte, mais rien ne nous permet de différencier un fruit de couleur orange d'un vert dans notre arbre
---